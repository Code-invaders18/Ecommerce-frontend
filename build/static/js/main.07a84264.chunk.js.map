{"version":3,"sources":["backend.js","auth/helper/index.js","core/Menu.js","core/Base.js","core/helper/ImageHelper.js","core/Card.js","core/helper/CartHelper.js","core/Home.js","user/Signup.js","user/Signin.js","auth/helper/AdminRoutes.js","auth/helper/PrivateRoutes.js","user/UserDashBoard.js","user/AdminDashBoard.js","admin/helper/adminapicall.js","admin/AddCategory.js","admin/ManageCategories.js","admin/AddProduct.js","admin/ManageProducts.js","admin/UpdateProduct.js","admin/UpdateCategory.js","core/StripeCheckout.js","core/helper/orderHelper.js","core/Cart.js","Routes.js","index.js"],"names":["API","process","isAuthenticated","window","localStorage","getItem","JSON","parse","currentTab","history","path","location","pathname","color","withRouter","className","style","to","user","role","onClick","next","removeItem","fetch","method","then","response","console","log","catch","err","signout","push","Base","title","description","children","ImageHelper","product","imageUrl","_id","src","alt","maxHeight","maxWidth","Card","addtoCart","removeFromCart","setReload","f","reload","undefined","useState","redirect","setRedirect","count","cartTitle","name","cartDescription","cartPrice","price","addToCart","item","cart","setItem","stringify","addItemToCart","getARedirect","showAddToCart","productId","map","index","splice","removeItemFromCart","showRemoveFromCart","Home","products","key","Signup","email","password","error","success","values","setValues","handleChange","event","target","value","onSubmit","preventDefault","headers","Accept","body","json","data","display","onChange","type","Signin","loading","didRedirect","signin","authenticate","AdminRoute","Component","component","rest","render","props","state","from","PrivateRoute","UserDashboard","AdminDashboard","getCategories","AddCategory","setName","setError","setSuccess","token","userId","category","Authorization","createCategory","mySuccessMessage","myWarningMessage","autoFocus","required","placeholder","ManageCategories","categories","setCategories","preload","useEffect","deleteThisCategory","categoryId","deleteCategory","AddProduct","stock","createdProduct","getaRedirect","formData","FormData","createProduct","photo","files","set","accept","cate","ManageProducts","setProducts","deleteThisProduct","deleteProduct","UpdateProduct","match","getProduct","preloadCategories","params","updateProduct","UpdateCategory","setValue","getCategory","updateCategory","aria-label","aria-describedby","class","StripeCheckout","address","getFinalPrice","amount","p","makePayment","status","orderData","order","createOrder","cartEmpty","stripeKey","shippingAddress","billingAddress","Cart","loadCart","Routes","exact","ManangeProducts","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.07a84264.chunk.js","sourcesContent":["export const API = process.env.REACT_APP_BACKEND;\r\n","import { API } from \"../../backend\";\r\n\r\nexport const signup = (user) => {\r\n  return fetch(`${API}/signup`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify(user),\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => {\r\n      return console.log(err);\r\n    });\r\n};\r\n\r\nexport const signin = (user) => {\r\n  return fetch(`${API}/signin`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify(user),\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => {\r\n      return console.log(err);\r\n    });\r\n};\r\n\r\n//it is a middleware to set the token into the user browser\r\nexport const authenticate = (data, next) => {\r\n  if (typeof window !== \"undefined\") {\r\n    localStorage.setItem(\"jwt\", JSON.stringify(data)); //data will include user data\r\n    next();\r\n  }\r\n};\r\n//it is also a middleware\r\nexport const signout = (next) => {\r\n  if (typeof window !== \"undefined\") {\r\n    localStorage.removeItem(\"jwt\");\r\n    next();\r\n    //to log out the user from the backend\r\n    return fetch(`${API}/signout`, {\r\n      method: \"GET\",\r\n    })\r\n      .then((response) => console.log(\"Sign out success\"))\r\n      .catch((err) => console.log(err));\r\n  }\r\n};\r\n\r\n//to validate whether the user is signed in or not we will use one more method\r\n//that will return value in o's or 1's\r\nexport const isAuthenticated = () => {\r\n  if (typeof window == \"undefined\") {\r\n    return false;\r\n  }\r\n  if (localStorage.getItem(\"jwt\")) {\r\n    return JSON.parse(localStorage.getItem(\"jwt\"));\r\n  } else {\r\n    return false;\r\n  }\r\n};\r\n","import React, { Fragment } from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport { signout, isAuthenticated } from \"../auth/helper\";\r\n\r\nconst currentTab = (history, path) => {\r\n  if (history.location.pathname === path) {\r\n    return { color: \"#2ecc72\" };\r\n  } else {\r\n    return { color: \"#FFFFFF\" };\r\n  }\r\n};\r\nconst Menu = ({ history }) => (\r\n  <div>\r\n    <div className=\"row\">\r\n      <div className=\"col-12 d-flex\">\r\n        <ul className=\"nav nav-tabs navbar-expand-lg bg-dark ml-auto\">\r\n          <li className=\"nav-item\">\r\n            <Link style={currentTab(history, \"/\")} className=\"nav-link\" to=\"/\">\r\n              Home\r\n            </Link>\r\n          </li>\r\n          <li className=\"nav-item\">\r\n            <Link\r\n              style={currentTab(history, \"/cart\")}\r\n              className=\"nav-link\"\r\n              to=\"/cart\"\r\n            >\r\n              Cart\r\n            </Link>\r\n          </li>\r\n          {isAuthenticated() &&\r\n          isAuthenticated().user.role === 0 && ( //showing the link if he is user\r\n              <li className=\"nav-item\">\r\n                <Link\r\n                  style={currentTab(history, \"/user/dashboard\")}\r\n                  className=\"nav-link\"\r\n                  to=\"/user/dashboard\"\r\n                >\r\n                  U. Dashboard\r\n                </Link>\r\n              </li>\r\n            )}\r\n          {isAuthenticated() && isAuthenticated().user.role === 1 && (\r\n            <li className=\"nav-item\">\r\n              <Link\r\n                style={currentTab(history, \"/admin/dashboard\")}\r\n                className=\"nav-link\"\r\n                to=\"/admin/dashboard\"\r\n              >\r\n                A.Dashboard\r\n              </Link>\r\n            </li>\r\n          )}\r\n          {!isAuthenticated() && (\r\n            <Fragment>\r\n              <li className=\"nav-item\">\r\n                <Link\r\n                  style={currentTab(history, \"/signup\")}\r\n                  className=\"nav-link\"\r\n                  to=\"/signup\"\r\n                >\r\n                  SignUp\r\n                </Link>\r\n              </li>\r\n              <li className=\"nav-item\">\r\n                <Link\r\n                  style={currentTab(history, \"/signin\")}\r\n                  className=\"nav-link\"\r\n                  to=\"/signin\"\r\n                >\r\n                  Sign in\r\n                </Link>\r\n              </li>\r\n            </Fragment>\r\n          )}\r\n          {isAuthenticated() && ( //whenever we use '(' bracket...we need not have to return back\r\n            <li className=\"nav-item\">\r\n              <span\r\n                className=\"nav-link text-warning\"\r\n                onClick={() => {\r\n                  signout(() => {\r\n                    //this is a middleware..nd next() will fireup a callback\r\n                    history.push(\"/\");\r\n                  });\r\n                }}\r\n              >\r\n                Signout\r\n              </span>\r\n            </li>\r\n          )}\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  </div>\r\n);\r\nexport default withRouter(Menu);\r\n//withRouter..this gonna pick all the routes using the links from the routes.js\r\n","import React from \"react\";\r\nimport Menu from \"./Menu\";\r\n\r\nconst Base = ({\r\n  title = \"My Title\",\r\n  description = \"My description\",\r\n  className = \"bg-dark text-white p-4\",\r\n  children,\r\n}) => (\r\n  <div>\r\n    <Menu />\r\n    <div className=\"container-fluid\">\r\n      <div className=\"jumbotron bg-dark text-black text-center\">\r\n        <h2 className=\"display-4\">{title}</h2>\r\n        <p className=\"lead text-center\">{description}</p>\r\n      </div>\r\n      <div className={className}>{children}</div>\r\n    </div>\r\n    <footer className=\"footer bg-dark mt-auto py-2\">\r\n      <div className=\"container-fluid bg-success tex-white text-center py-2\">\r\n        <h5>If you got any questions feel free to reach out!!</h5>\r\n        <button className=\"btn btn-warning bt-lg\">Contact Us</button>\r\n      </div>\r\n      <div className=\"container\">\r\n        <span className=\"text-muted\">\r\n          An amazing <span className=\"text-white\">MERN</span> bootcamp\r\n        </span>\r\n      </div>\r\n    </footer>\r\n  </div>\r\n);\r\nexport default Base;\r\n","import React from \"react\";\r\nimport { API } from \"../../backend\";\r\n\r\nconst ImageHelper = ({ product }) => {\r\n  const imageUrl = product\r\n    ? `${API}/product/photo/${product._id}`\r\n    : \"https://images.pexels.com/photos/3561339/pexels-photo-3561339.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940\";\r\n  return (\r\n    <div className=\"rounded border border-success p-2\">\r\n      <img\r\n        src={imageUrl}\r\n        alt=\"photo\"\r\n        style={{ maxHeight: \"100%\", maxWidth: \"100%\" }}\r\n        className=\"mb-3 rounded\"\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ImageHelper;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport ImageHelper from \"./helper/ImageHelper\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { addItemToCart, removeItemFromCart } from \"./helper/CartHelper\";\r\n\r\nconst Card = ({\r\n  product,\r\n  addtoCart = true,\r\n  removeFromCart = false,\r\n  setReload = (f) => f,\r\n  //function(f){return f}\r\n  reload = undefined,\r\n}) => {\r\n  const [redirect, setRedirect] = useState(false);\r\n  const [count, setCount] = useState(product.count);\r\n\r\n  const cartTitle = product ? product.name : \"A photo from pexels\";\r\n  const cartDescription = product ? product.description : \"Default desciption\";\r\n  const cartPrice = product ? product.price : \"DEFAULT\";\r\n\r\n  const addToCart = () => {\r\n    addItemToCart(product, () => setRedirect(true));\r\n  };\r\n\r\n  const getARedirect = (redirect) => {\r\n    if (redirect) {\r\n      return <Redirect to=\"/cart\" />;\r\n    }\r\n  };\r\n\r\n  const showAddToCart = (addtoCart) => {\r\n    return (\r\n      addtoCart && (\r\n        <button\r\n          onClick={addToCart}\r\n          className=\"btn btn-block btn-outline-success mt-2 mb-2\"\r\n        >\r\n          Add to Cart\r\n        </button>\r\n      )\r\n    );\r\n  };\r\n  const showRemoveFromCart = (removeFromCart) => {\r\n    return (\r\n      removeFromCart && (\r\n        <button\r\n          onClick={() => {\r\n            removeItemFromCart(product._id);\r\n            setReload(!reload);\r\n          }}\r\n          className=\"btn btn-block btn-outline-danger mt-2 mb-2\"\r\n        >\r\n          Remove from cart\r\n        </button>\r\n      )\r\n    );\r\n  };\r\n  return (\r\n    <div className=\"card text-white bg-dark border border-info \">\r\n      <div className=\"card-header lead\">{cartTitle}</div>\r\n      <div className=\"card-body\">\r\n        {getARedirect(redirect)}\r\n        <ImageHelper product={product} />\r\n        <p className=\"lead bg-success font-weight-normal text-wrap\">\r\n          {cartDescription}\r\n        </p>\r\n        <p className=\"btn btn-success rounded  btn-sm px-4\">{cartPrice}</p>\r\n        <div className=\"row\">\r\n          <div className=\"col-12\">{showAddToCart(addtoCart)}</div>\r\n          <div className=\"col-12\">{showRemoveFromCart(removeFromCart)}</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default Card;\r\n","export const addItemToCart = (item, next) => {\r\n  let cart = [];\r\n  if (typeof window !== undefined) {\r\n    if (localStorage.getItem(\"cart\")) {\r\n      cart = JSON.parse(localStorage.getItem(\"cart\"));\r\n    }\r\n    cart.push({\r\n      ...item,\r\n      count: 1,\r\n    });\r\n    localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n    next();\r\n  }\r\n};\r\n\r\nexport const loadCart = () => {\r\n  if (typeof window !== undefined) {\r\n    if (localStorage.getItem(\"cart\")) {\r\n      return JSON.parse(localStorage.getItem(\"cart\"));\r\n    }\r\n  }\r\n};\r\n\r\nexport const removeItemFromCart = (productId) => {\r\n  let cart = [];\r\n  if (typeof window !== undefined) {\r\n    if (localStorage.getItem(\"cart\")) {\r\n      cart = JSON.parse(localStorage.getItem(\"cart\"));\r\n    }\r\n    cart.map((product, index) => {\r\n      if (product._id === productId) {\r\n        cart.splice(index, 1);\r\n      }\r\n    });\r\n    localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n  }\r\n  return cart;\r\n};\r\n\r\nexport const cartEmpty = (next) => {\r\n  if (typeof window !== undefined) {\r\n    localStorage.removeItem(\"cart\");\r\n    let cart = [];\r\n    localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n    next();\r\n  }\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport \"../styles.css\";\r\nimport { API } from \"../backend\";\r\nimport Base from \"./Base\";\r\nimport Card from \"./Card\";\r\nimport { getProducts } from \"./helper/coreapicalls\";\r\n\r\nexport default function Home() {\r\n  const [products, setProducts] = useState([]);\r\n  const [error, setError] = useState(false);\r\n\r\n  // const loadAllProduct = () => {\r\n  //   getProducts().then((data) => {\r\n  //     if (data.error) {\r\n  //       setError(data.error);\r\n  //     } else {\r\n  //       setProducts(data);\r\n  //     }\r\n  //   });\r\n  // };\r\n\r\n  // useEffect(() => {\r\n  //   loadAllProduct();\r\n  // }, []);\r\n\r\n  return (\r\n    <Base title=\"Home Page\" description=\"Welcome to the Tshirt Store\">\r\n      <div className=\"row text-center\">\r\n        <h1 className=\"text-white\">All of tshirts</h1>\r\n        <div className=\"row\">\r\n          {products.map((product, index) => {\r\n            return (\r\n              <div key={index} className=\"col-4 mb-4\">\r\n                <Card product={product} />\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    </Base>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport Base from \"../core/Base\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { signup } from \"../auth/helper\";\r\n\r\nconst Signup = () => {\r\n  const [values, setValues] = useState({\r\n    name: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n    error: \"\",\r\n    success: false,\r\n  });\r\n  //will do destructure\r\n  const { name, email, password, error, success } = values;\r\n  const handleChange = (name) => (event) => {\r\n    setValues({ ...values, error: false, [name]: event.target.value });\r\n  };\r\n  const onSubmit = (event) => {\r\n    event.preventDefault();\r\n    setValues({ ...values, error: false }); //all values will be brought here when we use'...values'\r\n    signup({ name, email, password })\r\n      .then((data) => {\r\n        if (data.error) {\r\n          setValues({ ...values, error: data.error, success: false });\r\n        } else {\r\n          setValues({\r\n            ...values,\r\n            name: \"\",\r\n            email: \"\",\r\n            password: \"\",\r\n            error: \"\",\r\n            success: true,\r\n          });\r\n        }\r\n      })\r\n      .catch(console.log(\"Error in signup\"));\r\n  };\r\n\r\n  const signUpForm = () => {\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col-md-6 offset-sm-3 text-left\">\r\n          <form>\r\n            <div className=\"form-group\">\r\n              <label className=\"text-light\">Name</label>\r\n              <input\r\n                className=\"form-control\"\r\n                onChange={handleChange(\"name\")}\r\n                type=\"text\"\r\n                value={name}\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label className=\"text-light\">Email</label>\r\n              <input\r\n                className=\"form-control\"\r\n                onChange={handleChange(\"email\")}\r\n                type=\"email\"\r\n                value={email}\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label className=\"text-light\">Password</label>\r\n              <input\r\n                className=\"form-control\"\r\n                onChange={handleChange(\"password\")}\r\n                type=\"password\"\r\n                value={password}\r\n              />\r\n            </div>\r\n            <button onClick={onSubmit} className=\"btn btn-success btn-block\">\r\n              Submit\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const errorMessage = () => {\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col-md-6 offset-sm-3 text-left\">\r\n          <div\r\n            className=\"alert alert-danger\"\r\n            style={{ display: error ? \"\" : \"none\" }}\r\n          >\r\n            {error}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n  const successMessage = () => {\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col-md-6 offset-sm-3 text-left\">\r\n          <div\r\n            className=\"alert alert-success\"\r\n            style={{ display: success ? \"\" : \"none\" }}\r\n          >\r\n            New account was created successfully.Please{\" \"}\r\n            <Link to=\"/signin\">Login Here</Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n  return (\r\n    <Base title=\"Sign Up page\" description=\"a page for user to sign up!\">\r\n      {successMessage()}\r\n      {errorMessage()}\r\n      {signUpForm()}\r\n      <p className=\"text-white text-center\">{JSON.stringify(values)}</p>\r\n    </Base>\r\n  );\r\n};\r\nexport default Signup;\r\n","import React, { useState } from \"react\";\r\nimport Base from \"../core/Base\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\n\r\nimport { signin, authenticate, isAuthenticated } from \"../auth/helper\";\r\n\r\nconst Signin = () => {\r\n  const [values, setValues] = useState({\r\n    email: \"ramsy@gmail.com\",\r\n    password: \"ramsymalik\",\r\n    error: \"\",\r\n    loading: false,\r\n    didRedirect: false, //we will get Redirect from react-router-dom\r\n  });\r\n\r\n  const { email, password, error, loading, didRedirect } = values; //destructuring the value\r\n\r\n  const { user } = isAuthenticated();\r\n\r\n  const handleChange = (name) => (event) => {\r\n    setValues({ ...values, error: false, [name]: event.target.value });\r\n  };\r\n\r\n  const onSubmit = (event) => {\r\n    event.preventDefault();\r\n    setValues({ ...values, error: false, loading: true });\r\n    signin({ email, password })\r\n      .then((data) => {\r\n        if (data.error) {\r\n          setValues({ ...values, error: data.error, loading: false });\r\n        } else {\r\n          authenticate(data, () => {\r\n            //whenever there is next() we can fire up a callback\r\n            setValues({\r\n              ...values,\r\n              didRedirect: true,\r\n            });\r\n          });\r\n        }\r\n      })\r\n      .catch(console.log(\"sign in request failed\"));\r\n  };\r\n\r\n  const performRedirect = () => {\r\n    if (didRedirect) {\r\n      if (user && user.role === 1) {\r\n        return <Redirect to=\"/admin/dashboard\" />;\r\n      } else {\r\n        return <Redirect to=\"/user/dashboard\" />;\r\n      }\r\n    }\r\n    if (isAuthenticated()) {\r\n      return <Redirect to=\"/\" />;\r\n    }\r\n  };\r\n\r\n  const errorMessage = () => {\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col-md-6 offset-sm-3 text-left\">\r\n          <div\r\n            className=\"alert alert-danger\"\r\n            style={{ display: error ? \"\" : \"none\" }}\r\n          >\r\n            {error}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const loadingMessage = () => {\r\n    return (\r\n      loading && (\r\n        <div className=\"alert alert-info\">\r\n          <h2>Loading...</h2>\r\n        </div>\r\n      )\r\n    );\r\n  };\r\n\r\n  const signInForm = () => {\r\n    return (\r\n      <div className=\"row\">\r\n        <div className=\"col-md-6 offset-sm-3 text-left\">\r\n          <form>\r\n            <div className=\"form-group\">\r\n              <label className=\"text-light\">Email</label>\r\n              <input\r\n                onChange={handleChange(\"email\")}\r\n                value={email}\r\n                className=\"form-control\"\r\n                type=\"email\"\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label className=\"text-light\">Password</label>\r\n              <input\r\n                onChange={handleChange(\"password\")}\r\n                value={password}\r\n                className=\"form-control\"\r\n                type=\"password\"\r\n              />\r\n            </div>\r\n            <button onClick={onSubmit} className=\"btn btn-success btn-block\">\r\n              Submit\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Base title=\"Sign In page\" description=\"A page for user to sign in!\">\r\n      {loadingMessage()}\r\n      {errorMessage()}\r\n      {signInForm()}\r\n      {performRedirect()}\r\n      <p className=\"text-white text-center\">{JSON.stringify(values)}</p>\r\n    </Base>\r\n  );\r\n};\r\nexport default Signin;\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { isAuthenticated } from \"./index\";\r\n\r\nconst AdminRoute = ({ component: Component, ...rest }) => {\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) =>\r\n        isAuthenticated() && isAuthenticated().user.role === 1 ? ( //if role==1 =>user is admin\r\n          <Component {...props} />\r\n        ) : (\r\n          <Redirect\r\n            to={{\r\n              pathname: \"/signin\",\r\n              state: { from: props.location },\r\n            }}\r\n          />\r\n        )\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nexport default AdminRoute;\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { isAuthenticated } from \"./index\";\r\n\r\nconst PrivateRoute = ({ component: Component, ...rest }) => {\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) =>\r\n        isAuthenticated() ? (\r\n          <Component {...props} />\r\n        ) : (\r\n          <Redirect\r\n            to={{\r\n              pathname: \"/signin\",\r\n              state: { from: props.location },\r\n            }}\r\n          />\r\n        )\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nexport default PrivateRoute;\r\n","import React from \"react\";\r\nimport Base from \"../core/Base\";\r\n\r\nconst UserDashboard = () => {\r\n  return (\r\n    <Base title=\"UserDashboard page\">\r\n      <h1>This is user dashboard page</h1>\r\n    </Base>\r\n  );\r\n};\r\nexport default UserDashboard;\r\n","import React from \"react\";\r\nimport Base from \"../core/Base\";\r\nimport { isAuthenticated } from \"../auth/helper/index\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst AdminDashboard = () => {\r\n  const {\r\n    user: { name, email, role },\r\n  } = isAuthenticated(); //here we have done nested destructuring\r\n\r\n  const adminLeftSide = () => {\r\n    return (\r\n      <div className=\"card\">\r\n        <h4 className=\"card-header bg-dark text-white\">Admin Navigation</h4>\r\n        <ul className=\"list-group\">\r\n          <li className=\"list-group-item\">\r\n            <Link to=\"/admin/create/category\" className=\"nav-link text-success\">\r\n              Create Categories\r\n            </Link>\r\n          </li>\r\n          <li className=\"list-group-item\">\r\n            <Link to=\"/admin/categories\" className=\"nav-link text-success\">\r\n              Manage Categories\r\n            </Link>\r\n          </li>\r\n          <li className=\"list-group-item\">\r\n            <Link to=\"/admin/create/product\" className=\"nav-link text-success\">\r\n              Create Product\r\n            </Link>\r\n          </li>\r\n          <li className=\"list-group-item\">\r\n            <Link to=\"/admin/products\" className=\"nav-link text-success\">\r\n              Manage Products\r\n            </Link>\r\n          </li>\r\n          <li className=\"list-group-item\">\r\n            <Link to=\"/admin/orders\" className=\"nav-link text-success\">\r\n              Manage Orders\r\n            </Link>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    );\r\n  };\r\n  const adminRightSide = () => {\r\n    return (\r\n      //mb-4 means bottom margin =4\r\n      <div className=\"card mb-4\">\r\n        <h4 className=\"card-header\">Admin Information</h4>\r\n        <ul className=\"list-group\">\r\n          <li className=\"list-group-item\">\r\n            <span className=\"badge badge-success mr-2\">Name:</span>\r\n            {name}\r\n          </li>\r\n          <li className=\"list-group-item\">\r\n            <span className=\"badge badge-success mr-2\">Email:</span>\r\n            {email}\r\n          </li>\r\n          <li className=\"list-group-item\">\r\n            <span className=\"badge badge-danger\">Admin Area</span>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    );\r\n  };\r\n  return (\r\n    <Base\r\n      title=\"Welcome to Admin area\"\r\n      description=\"Manage all of your products here!\"\r\n      className=\"container bg-success p-4\"\r\n    >\r\n      <div className=\"row\">\r\n        <div className=\"col-3\">{adminLeftSide()}</div>\r\n        <div className=\"col-9\">{adminRightSide()}</div>\r\n      </div>\r\n    </Base>\r\n  );\r\n};\r\nexport default AdminDashboard;\r\n","import { API } from \"../../backend\";\r\n\r\n//category calls\r\nexport const createCategory = (userId, token, category) => {\r\n  return fetch(`${API}/category/create/${userId}`, {\r\n    //header info is passed throught the { bracket}\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: JSON.stringify(category),\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\n//get all categories\r\nexport const getCategories = () => {\r\n  return fetch(`${API}/categories`, {\r\n    method: \"GET\",\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n//delete category\r\nexport const deleteCategory = (categoryId, userId, token) => {\r\n  return fetch(`${API}/category/${categoryId}/${userId}`, {\r\n    method: \"DELETE\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\nexport const getCategory = (categoryId) => {\r\n  return fetch(`${API}/category/${categoryId}`, {\r\n    method: \"GET\",\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n//update category\r\nexport const updateCategory = (categoryId, userId, token, category) => {\r\n  //console.log(category);\r\n  return fetch(`${API}/category/${categoryId}/${userId}`, {\r\n    method: \"PUT\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: category,\r\n  })\r\n    .then((response) => {\r\n      console.log(response.json());\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\n//product calls\r\n//created the product\r\nexport const createProduct = (userId, token, product) => {\r\n  return fetch(`${API}/product/create/${userId}`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: product,\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n//get all products\r\nexport const getProducts = () => {\r\n  return fetch(`${API}/products`, {\r\n    method: \"GET\",\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n//delete product\r\nexport const deleteProduct = (productId, userId, token) => {\r\n  return fetch(`${API}/product/${productId}/${userId}`, {\r\n    method: \"DELETE\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\n//get a product\r\nexport const getProduct = (productId) => {\r\n  return fetch(`${API}/product/${productId}`, {\r\n    method: \"GET\",\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n\r\n//update a product\r\nexport const updateProduct = (productId, userId, token, product) => {\r\n  return fetch(`${API}/product/${productId}/${userId}`, {\r\n    method: \"PUT\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: product,\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n","import React, { useState } from \"react\";\r\nimport Base from \"../core/Base\";\r\nimport { isAuthenticated } from \"../auth/helper\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { createCategory } from \"./helper/adminapicall\";\r\n\r\nconst AddCategory = () => {\r\n  const [name, setName] = useState(\"\");\r\n  const [error, setError] = useState(false);\r\n  const [success, setSuccess] = useState(false);\r\n\r\n  const { user, token } = isAuthenticated();\r\n  const goBack = () => {\r\n    return (\r\n      <div className=\"mt-5\">\r\n        <Link className=\"btn btn-sm btn-success mb-3\" to=\"/admin/dashboard\">\r\n          Admin Home\r\n        </Link>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const handleChange = (event) => {\r\n    setError(\"\"); //here we r emptying out the error..to avoid if any previous error has occured\r\n    setName(event.target.value);\r\n  };\r\n\r\n  const onSubmit = (event) => {\r\n    event.preventDefault();\r\n    setError(\"\");\r\n    setSuccess(false);\r\n    //backend request fired\r\n    createCategory(user._id, token, { name }) //sending name in the form of object form JSON\r\n      .then((data) => {\r\n        if (data.error) {\r\n          setError(true);\r\n        } else {\r\n          setError(\"\");\r\n          setSuccess(true);\r\n          setName(\"\");\r\n        }\r\n      });\r\n  };\r\n  const mySuccessMessage = () => {\r\n    if (success) {\r\n      return <h4 className=\"text-success\">Category created successfully</h4>;\r\n    }\r\n  };\r\n  const myWarningMessage = () => {\r\n    if (error) {\r\n      return <h4 className=\"text-success\">Failed to crate category </h4>;\r\n    }\r\n  };\r\n\r\n  const myCategoryForm = () => {\r\n    return (\r\n      <form>\r\n        <div className=\"form-group\">\r\n          <p className=\"lead\">Enter the category</p>\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control my-3\"\r\n            onChange={handleChange}\r\n            value={name}\r\n            autoFocus\r\n            required\r\n            placeholder=\"for Ex. Summer\"\r\n          />\r\n          <button onClick={onSubmit} className=\"btn btn-outline-info\">\r\n            Create Category\r\n          </button>\r\n        </div>\r\n      </form>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Base\r\n      title=\"Create a category\"\r\n      description=\"Add a new category for new t-shirt\"\r\n      className=\"container bg-info p-4\"\r\n    >\r\n      <div className=\"row bg-white rounded\">\r\n        <div className=\"col-md-8 offset-md-2\">\r\n          {mySuccessMessage()}\r\n          {myWarningMessage()}\r\n          {myCategoryForm()}\r\n          {goBack()}\r\n        </div>\r\n      </div>\r\n    </Base>\r\n  );\r\n};\r\nexport default AddCategory;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport Base from \"../core/Base\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { isAuthenticated } from \"../auth/helper\";\r\nimport { getCategories, deleteCategory } from \"./helper/adminapicall\";\r\n\r\nconst ManageCategories = () => {\r\n  const [categories, setCategories] = useState([]);\r\n  const { user, token } = isAuthenticated();\r\n\r\n  const preload = () =>\r\n    getCategories().then((data) => {\r\n      if (data.error) {\r\n        console.log(data.error);\r\n      } else {\r\n        setCategories(data);\r\n      }\r\n    });\r\n  useEffect(() => {\r\n    preload();\r\n  }, []);\r\n\r\n  const deleteThisCategory = (categoryId) => {\r\n    deleteCategory(categoryId, user._id, token).then((data) => {\r\n      if (data.error) {\r\n        console.log(data.error);\r\n      } else {\r\n        preload();\r\n      }\r\n    });\r\n  };\r\n  return (\r\n    <Base title=\"Welcome admin\" description=\"Manage Categories here\">\r\n      <h2 className=\"mb-4\">All Categories:</h2>\r\n      <Link className=\"btn btn-info\" to={`/admin/dashboard`}>\r\n        <span className=\"\">Admin Home</span>\r\n      </Link>\r\n      <div className=\"row\">\r\n        <div className=\"col-12\">\r\n          <h2 className=\"text-center text-white my-3\">Categories</h2>\r\n          {categories.map((category, index) => (\r\n            <div key={index} className=\"row text-center mb-2 \">\r\n              <div className=\"col-4\">\r\n                <h3 className=\"text-white text-left\">{category.name}</h3>\r\n              </div>\r\n              <div className=\"col-4\">\r\n                <Link\r\n                  className=\"btn btn-success\"\r\n                  to={`/admin/category/update/${category._id}`}\r\n                >\r\n                  <span className=\"\">Update it</span>\r\n                </Link>\r\n              </div>\r\n              <div className=\"col-4\">\r\n                <button\r\n                  onClick={() => {\r\n                    deleteThisCategory(category._id); //if we would have not pass any value\r\n                    //we could have use {delteThisProduct} method..here we r accessing\r\n                    //it by callback function method\r\n                  }}\r\n                  className=\"btn btn-danger\"\r\n                >\r\n                  Delete\r\n                </button>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </Base>\r\n  );\r\n};\r\nexport default ManageCategories;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Base from \"../core/Base\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { getCategories, createProduct } from \"./helper/adminapicall\";\r\nimport { isAuthenticated } from \"../auth/helper\";\r\n\r\nconst AddProduct = () => {\r\n  const { user, token } = isAuthenticated();\r\n\r\n  const [values, setValues] = useState({\r\n    name: \"\",\r\n    description: \"\",\r\n    price: \"\",\r\n    stock: \"\",\r\n    categories: [],\r\n    category: \"\",\r\n    loading: false,\r\n    error: \"\",\r\n    createdProduct: \"\",\r\n    getaRedirect: false,\r\n    formData: \"\",\r\n  });\r\n\r\n  const {\r\n    //here we r doing destructuring of the state items\r\n    name,\r\n    description,\r\n    price,\r\n    stock,\r\n    categories,\r\n    category,\r\n    loading,\r\n    error,\r\n    createdProduct,\r\n    getaRedirect,\r\n    formData,\r\n  } = values;\r\n\r\n  const preload = () => {\r\n    getCategories().then((data) => {\r\n      //console.log(data);\r\n      if (data.error) {\r\n        setValues({ ...values, error: data.error });\r\n      } else {\r\n        setValues({ ...values, categories: data, formData: new FormData() });\r\n      }\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    //here we r getting a callback\r\n    preload();\r\n  }, []);\r\n  const onSubmit = (event) => {\r\n    event.preventDefault();\r\n    setValues({ ...values, error: \"\", loading: true });\r\n    createProduct(user._id, token, formData)\r\n      .then((data) => {\r\n        if (data.error) {\r\n          setValues({ ...values, error: data.error });\r\n        } else {\r\n          setValues({\r\n            ...values,\r\n            name: \"\",\r\n            description: \"\",\r\n            price: \"\",\r\n            photo: \"\",\r\n            stock: \"\",\r\n            loading: false,\r\n            createdProduct: data.name,\r\n          });\r\n        }\r\n      })\r\n      .catch(() => console.log(error));\r\n  };\r\n\r\n  const handleChange = (name) => (event) => {\r\n    const value = name === \"photo\" ? event.target.files[0] : event.target.value;\r\n    formData.set(name, value);\r\n    setValues({ ...values, [name]: value });\r\n  };\r\n\r\n  const successMessage = () => {\r\n    return (\r\n      <div\r\n        className=\"alert alert-success mt-3\"\r\n        style={{ display: createdProduct ? \"\" : \"none\" }}\r\n      >\r\n        <h4>{createdProduct} created successfully</h4>\r\n      </div>\r\n    );\r\n  };\r\n  const errorMessage = () => {\r\n    return (\r\n      <div\r\n        className=\"alert alert-danger mt-3\"\r\n        style={{ display: error ? \"\" : \"none\" }}\r\n      >\r\n        <h4>Creation of product failed</h4>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const createProductForm = () => (\r\n    <form>\r\n      <span>Post photo</span>\r\n      <div className=\"form-group\">\r\n        <label className=\"btn btn-block btn-success\">\r\n          <input\r\n            onChange={handleChange(\"photo\")}\r\n            type=\"file\"\r\n            name=\"photo\"\r\n            accept=\"image\"\r\n            placeholder=\"choose a file\"\r\n          />\r\n        </label>\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <input\r\n          onChange={handleChange(\"name\")}\r\n          name=\"photo\"\r\n          className=\"form-control\"\r\n          placeholder=\"Name\"\r\n          value={name}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <textarea\r\n          onChange={handleChange(\"description\")}\r\n          name=\"photo\"\r\n          className=\"form-control\"\r\n          placeholder=\"Description\"\r\n          value={description}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <input\r\n          onChange={handleChange(\"price\")}\r\n          type=\"number\"\r\n          className=\"form-control\"\r\n          placeholder=\"Price\"\r\n          value={price}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <select\r\n          onChange={handleChange(\"category\")}\r\n          className=\"form-control\"\r\n          placeholder=\"Category\"\r\n        >\r\n          <option>Select</option>\r\n          {categories &&\r\n            categories.map((cate, index) => (\r\n              <option key={index} value={cate._id}>\r\n                {cate.name}\r\n              </option>\r\n            ))}\r\n        </select>\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <input\r\n          onChange={handleChange(\"stock\")}\r\n          type=\"number\"\r\n          className=\"form-control\"\r\n          placeholder=\"Quantity\"\r\n          value={stock}\r\n        />\r\n      </div>\r\n\r\n      <button\r\n        type=\"submit\"\r\n        onClick={onSubmit}\r\n        className=\"btn btn-outline-success mb-3\"\r\n      >\r\n        Create Product\r\n      </button>\r\n    </form>\r\n  );\r\n  return (\r\n    <Base\r\n      title=\"Add a product here!\"\r\n      description=\"Welcome to product creation section\"\r\n      className=\"container bg-info p-4\"\r\n    >\r\n      <Link to=\"/admin/dashboard\" className=\"btn btn-md btn-dark mb-3\">\r\n        Admin Home\r\n      </Link>\r\n      <div className=\"row bg-dark text-white rounded\">\r\n        <div className=\"col-md-8 offset-md-2\">\r\n          {errorMessage()}\r\n          {successMessage()}\r\n          {createProductForm()}\r\n        </div>\r\n      </div>\r\n    </Base>\r\n  );\r\n};\r\nexport default AddProduct;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Base from \"../core/Base\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { isAuthenticated } from \"../auth/helper\";\r\nimport { getProducts, deleteProduct } from \"./helper/adminapicall\";\r\n\r\nconst ManageProducts = () => {\r\n  const [products, setProducts] = useState([]); //there will be lot of product that will come here and fill the array\r\n\r\n  const { user, token } = isAuthenticated();\r\n\r\n  const preload = () =>\r\n    getProducts().then((data) => {\r\n      if (data.error) {\r\n        console.log(data.error);\r\n      } else {\r\n        setProducts(data); //in the array we will simply store the data\r\n      }\r\n    });\r\n\r\n  // now we have to call the functi\r\n  // on that is need to be called up before the component mount\r\n\r\n  useEffect(() => {\r\n    preload();\r\n  }, []);\r\n\r\n  const deleteThisProduct = (productId) => {\r\n    console.log(productId);\r\n    deleteProduct(productId, user._id, token).then((data) => {\r\n      if (data.error) {\r\n        console.log(data.error);\r\n      } else {\r\n        preload();\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Base title=\"Welcome admin\" description=\"Manage products here\">\r\n      <h2 className=\"mb-4\">All products:</h2>\r\n      <Link className=\"btn btn-info\" to={`/admin/dashboard`}>\r\n        <span className=\"\">Admin Home</span>\r\n      </Link>\r\n      <div className=\"row\">\r\n        <div className=\"col-12\">\r\n          <h2 className=\"text-center text-white my-3\">Total 3 products</h2>\r\n\r\n          {products.map((product, index) => (\r\n            <div key={index} className=\"row text-center mb-2 \">\r\n              <div className=\"col-4\">\r\n                <h3 className=\"text-white text-left\">{product.name}</h3>\r\n              </div>\r\n              <div className=\"col-4\">\r\n                <Link\r\n                  className=\"btn btn-success\"\r\n                  to={`/admin/product/update/${product._id}`}\r\n                >\r\n                  <span className=\"\">Update</span>\r\n                </Link>\r\n              </div>\r\n              <div className=\"col-4\">\r\n                <button\r\n                  onClick={() => {\r\n                    deleteThisProduct(product._id); //if we would have not pass any value\r\n                    //we could have use {delteThisProduct} method..here we r accessing\r\n                    //it by callback function method\r\n                  }}\r\n                  className=\"btn btn-danger\"\r\n                >\r\n                  Delete\r\n                </button>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </Base>\r\n  );\r\n};\r\n\r\nexport default ManageProducts;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Base from \"../core/Base\";\r\nimport { Link } from \"react-router-dom\";\r\nimport {\r\n  getCategories,\r\n  getProduct,\r\n  updateProduct,\r\n} from \"./helper/adminapicall\";\r\nimport { isAuthenticated } from \"../auth/helper\";\r\n\r\nconst UpdateProduct = ({ match }) => {\r\n  const { user, token } = isAuthenticated();\r\n\r\n  const [values, setValues] = useState({\r\n    name: \"\",\r\n    description: \"\",\r\n    price: \"\",\r\n    stock: \"\",\r\n    categories: [],\r\n    category: \"\",\r\n    loading: false,\r\n    error: \"\",\r\n    createdProduct: \"\",\r\n    getaRedirect: false,\r\n    formData: \"\",\r\n  });\r\n\r\n  const {\r\n    //here we r doing destructuring of the state items\r\n    name,\r\n    description,\r\n    price,\r\n    stock,\r\n    categories,\r\n    category,\r\n    loading,\r\n    error,\r\n    createdProduct,\r\n    getaRedirect,\r\n    formData,\r\n  } = values;\r\n\r\n  const preload = (productId) => {\r\n    //console.log(match.params);\r\n    getProduct(productId).then((data) => {\r\n      //console.log(data);\r\n      if (data.error) {\r\n        setValues({ ...values, error: data.error });\r\n      } else {\r\n        setValues({\r\n          ...values,\r\n          name: data.name,\r\n          description: data.description,\r\n          price: data.price,\r\n          category: data.category._id,\r\n          stock: data.stock,\r\n          formData: new FormData(),\r\n        });\r\n        preloadCategories();\r\n      }\r\n    });\r\n  };\r\n\r\n  const preloadCategories = () => {\r\n    getCategories().then((data) => {\r\n      if (data.error) {\r\n        setValues({ ...values, error: data.error });\r\n      } else {\r\n        setValues({ categories: data, formData: new FormData() });\r\n      }\r\n    });\r\n  };\r\n  useEffect(() => {\r\n    //here we r getting a callback\r\n    preload(match.params.productId);\r\n  }, []);\r\n\r\n  const onSubmit = (event) => {\r\n    event.preventDefault();\r\n    setValues({ ...values, error: \"\", loading: true });\r\n\r\n    updateProduct(match.params.productId, user._id, token, formData)\r\n      .then((data) => {\r\n        if (data.error) {\r\n          setValues({ ...values, error: data.error });\r\n        } else {\r\n          setValues({\r\n            ...values,\r\n            name: \"\",\r\n            description: \"\",\r\n            price: \"\",\r\n            photo: \"\",\r\n            stock: \"\",\r\n            loading: false,\r\n            createdProduct: data.name,\r\n          });\r\n        }\r\n      })\r\n      .catch(() => console.log(error));\r\n  };\r\n\r\n  const handleChange = (name) => (event) => {\r\n    const value = name === \"photo\" ? event.target.files[0] : event.target.value;\r\n    formData.set(name, value);\r\n    setValues({ ...values, [name]: value });\r\n  };\r\n\r\n  const successMessage = () => {\r\n    return (\r\n      <div\r\n        className=\"alert alert-success mt-3\"\r\n        style={{ display: createdProduct ? \"\" : \"none\" }}\r\n      >\r\n        <h4>{createdProduct} Updated successfully</h4>\r\n      </div>\r\n    );\r\n  };\r\n  //   const errorMessage = () => {\r\n  //     return (\r\n  //       <div\r\n  //         className=\"alert alert-danger mt-3\"\r\n  //         style={{ display: error ? \"\" : \"none\" }}\r\n  //       >\r\n  //         <h4>Creation of product failed</h4>\r\n  //       </div>\r\n  //     );\r\n  //   };\r\n\r\n  const createProductForm = () => (\r\n    <form>\r\n      <span>Post photo</span>\r\n      <div className=\"form-group\">\r\n        <label className=\"btn btn-block btn-success\">\r\n          <input\r\n            onChange={handleChange(\"photo\")}\r\n            type=\"file\"\r\n            name=\"photo\"\r\n            accept=\"image\"\r\n            placeholder=\"choose a file\"\r\n          />\r\n        </label>\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <input\r\n          onChange={handleChange(\"name\")}\r\n          name=\"photo\"\r\n          className=\"form-control\"\r\n          placeholder=\"Name\"\r\n          value={name}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <textarea\r\n          onChange={handleChange(\"description\")}\r\n          name=\"photo\"\r\n          className=\"form-control\"\r\n          placeholder=\"Description\"\r\n          value={description}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <input\r\n          onChange={handleChange(\"price\")}\r\n          type=\"number\"\r\n          className=\"form-control\"\r\n          placeholder=\"Price\"\r\n          value={price}\r\n        />\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <select\r\n          onChange={handleChange(\"category\")}\r\n          className=\"form-control\"\r\n          placeholder=\"Category\"\r\n        >\r\n          <option>Select</option>\r\n          {categories &&\r\n            categories.map((cate, index) => (\r\n              <option key={index} value={cate._id}>\r\n                {cate.name}\r\n              </option>\r\n            ))}\r\n        </select>\r\n      </div>\r\n      <div className=\"form-group\">\r\n        <input\r\n          onChange={handleChange(\"stock\")}\r\n          type=\"number\"\r\n          className=\"form-control\"\r\n          placeholder=\"Quantity\"\r\n          value={stock}\r\n        />\r\n      </div>\r\n\r\n      <button\r\n        type=\"submit\"\r\n        onClick={onSubmit}\r\n        className=\"btn btn-outline-success mb-3\"\r\n      >\r\n        Update Product\r\n      </button>\r\n    </form>\r\n  );\r\n\r\n  return (\r\n    <Base\r\n      title=\"Add a product here!\"\r\n      description=\"Welcome to product creation section\"\r\n      className=\"container bg-info p-4\"\r\n    >\r\n      <Link to=\"/admin/dashboard\" className=\"btn btn-md btn-dark mb-3\">\r\n        Admin Home\r\n      </Link>\r\n      <div className=\"row bg-dark text-white rounded\">\r\n        <div className=\"col-md-8 offset-md-2\">\r\n          {successMessage()}\r\n          {createProductForm()}\r\n        </div>\r\n      </div>\r\n    </Base>\r\n  );\r\n};\r\nexport default UpdateProduct;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Base from \"../core/Base\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { isAuthenticated } from \"../auth/helper\";\r\nimport {\r\n  getCategories,\r\n  updateCategory,\r\n  getCategory,\r\n} from \"./helper/adminapicall\";\r\n\r\nconst UpdateCategory = ({ match }) => {\r\n  const { token, user } = isAuthenticated();\r\n  const [value, setValue] = useState({ name: \"\", error: \"\" });\r\n  const { name, error } = value;\r\n\r\n  const preload = (\r\n    categoryId //this is working properly\r\n  ) =>\r\n    getCategory(categoryId).then((data) => {\r\n      if (data.error) {\r\n        setValue({ ...value, error: data.error });\r\n      } else {\r\n        setValue({ ...value, name: data.name });\r\n      }\r\n    });\r\n  useEffect(() => {\r\n    //this is working properly\r\n    preload(match.params.categoryId);\r\n  }, []);\r\n\r\n  const handleChange = (event) => {\r\n    setValue({ name: event.target.value });\r\n    console.log(name);\r\n  };\r\n  const onSubmit = (event) => {\r\n    event.preventDefault();\r\n    setValue({ ...value, error: \"\" });\r\n    updateCategory(match.params.categoryId, user._id, token, name).then(\r\n      (data) => {\r\n        setValue({ name: \"\", error: \"\" });\r\n      }\r\n    );\r\n  };\r\n  const updateForm = () => (\r\n    <div>\r\n      <h3 className=\"col-md-4 offset-md-4 text-white text-centre\">\r\n        Update your search here!!\r\n      </h3>\r\n      <div className=\"input-group mb-3\">\r\n        <input\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n          onChange={handleChange}\r\n          value={name}\r\n          placeholder=\"Name\"\r\n          aria-label=\"Recipient's username\"\r\n          aria-describedby=\"basic-addon2\"\r\n        />\r\n        <div class=\"input-group-append\">\r\n          <button\r\n            onClick={onSubmit}\r\n            className=\"btn btn-outline-secondary\"\r\n            type=\"button\"\r\n          >\r\n            Button\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <Base\r\n      title=\"Add a product here!\"\r\n      description=\"Welcome to product creation section\"\r\n      className=\"container bg-info p-4\"\r\n    >\r\n      <Link to=\"/admin/dashboard\" className=\"btn btn-md btn-dark mb-3\">\r\n        Admin Home\r\n      </Link>\r\n      {updateForm()}\r\n    </Base>\r\n  );\r\n};\r\nexport default UpdateCategory;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { isAuthenticated } from \"../auth/helper\";\r\nimport { cartEmpty, loadCart } from \"./helper/CartHelper\";\r\nimport { Link } from \"react-router-dom\";\r\nimport StripeCheckoutButton from \"react-stripe-checkout\";\r\nimport { API } from \"../backend\";\r\nimport { createOrder } from \"../core/helper/orderHelper\";\r\n\r\nconst StripeCheckout = ({\r\n  products,\r\n  setReload = (f) => f,\r\n  reload = undefined,\r\n}) => {\r\n  const [data, setData] = useState({\r\n    loading: false,\r\n    success: false,\r\n    error: \"\",\r\n    address: \"\",\r\n  });\r\n\r\n  const token = isAuthenticated() && isAuthenticated().token;\r\n  const userId = isAuthenticated() && isAuthenticated().user._id;\r\n  const getFinalPrice = () => {\r\n    let amount = 0;\r\n    products.map((p) => {\r\n      amount += p.price;\r\n    });\r\n    return amount;\r\n  };\r\n  const makePayment = (token) => {\r\n    const body = {\r\n      token,\r\n      products,\r\n    };\r\n    const headers = {\r\n      \"Content-Type\": \"application/json\",\r\n    };\r\n    return fetch(`${API}/stripePayment`, {\r\n      method: \"POST\",\r\n      headers,\r\n      body: JSON.stringify(body),\r\n    })\r\n      .then((response) => {\r\n        console.log(response);\r\n        //call further method\r\n        const { status } = response;\r\n        console.log(\"STATUS\", status);\r\n\r\n        const orderData = {\r\n          products: products,\r\n          //transaction_id: response.transaction.id,\r\n          //amount: response.transaction.amount,\r\n        };\r\n        createOrder(userId, token, orderData);\r\n        //here down we r doing our cart empty\r\n        cartEmpty(() => {\r\n          console.log(\"my cart is empty\");\r\n        });\r\n        //here down we r making a force reload\r\n        setReload(!reload);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  const showStripeButton = () => {\r\n    return isAuthenticated() ? (\r\n      <StripeCheckoutButton\r\n        stripeKey=\"pk_test_7CiJWq0ZadaxH3hlxme91j8J000WYHfmhS\"\r\n        token={makePayment}\r\n        amount={getFinalPrice() * 100}\r\n        name=\"Buy T-Shirts\"\r\n        shippingAddress\r\n        billingAddress\r\n      >\r\n        <button className=\"btn btn-success\">Pay with stripe</button>\r\n      </StripeCheckoutButton>\r\n    ) : (\r\n      <Link to=\"/signin\">\r\n        <button className=\"btn btn-warning\">Signin</button>\r\n      </Link>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h3 className=\"text-white\">Stripe checkout {getFinalPrice()}</h3>\r\n      {showStripeButton()}\r\n    </div>\r\n  );\r\n};\r\nexport default StripeCheckout;\r\n","import { API } from \"../../backend\";\r\n\r\nexport const createOrder = (userId, token, orderData) => {\r\n  return fetch(`${API}/order/create/${userId}`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n    body: JSON.stringify({ order: orderData }),\r\n  })\r\n    .then((response) => {\r\n      return response.json();\r\n    })\r\n    .catch((err) => console.log(err));\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport \"../styles.css\";\r\nimport { API } from \"../backend\";\r\nimport Base from \"./Base\";\r\nimport Card from \"./Card\";\r\nimport { loadCart } from \"./helper/CartHelper\";\r\nimport StripeCheckout from \"./StripeCheckout\";\r\n\r\nconst Cart = () => {\r\n  const [products, setProducts] = useState([]);\r\n  const [reload, setReload] = useState(false); //i dont want to reaload thats y false\r\n\r\n  useEffect(() => {\r\n    setProducts(loadCart());\r\n  }, [reload]); //reload  is used to do forced mounting\r\n\r\n  // const loadAllProducts = () => {\r\n  //   return (\r\n  //     <div>\r\n  //       <h2>This section is to load products</h2>\r\n  //       {products.map((product, index) => (\r\n  //         <Card\r\n  //           key={index}\r\n  //           product={product}\r\n  //           removeFromCart={true}\r\n  //           addtoCart={false}\r\n  //           setReload={setReload}\r\n  //           reload={reload}\r\n  //         />\r\n  //       ))}\r\n  //     </div>\r\n  //   );\r\n  // };\r\n  const loadAllProducts = () => {\r\n    return (\r\n      <div>\r\n        <h2>This section is to load products</h2>\r\n        {products.map((product, index) => (\r\n          <Card\r\n            key={index}\r\n            product={product}\r\n            removeFromCart={true}\r\n            addtoCart={false}\r\n            setReload={setReload}\r\n            reload={reload}\r\n          />\r\n        ))}\r\n      </div>\r\n    );\r\n  };\r\n  const loadCheckout = () => {\r\n    return (\r\n      <div>\r\n        <h2>This section is for checkout</h2>\r\n      </div>\r\n    );\r\n  };\r\n  return (\r\n    <Base title=\"Cart Page\" description=\"Ready to Checkout!!\">\r\n      <div className=\"row text-center\">\r\n        <div className=\"col-6\">{loadAllProducts()}</div>\r\n        <div className=\"col-6\">\r\n          <StripeCheckout products={products} setReload={setReload} />\r\n        </div>\r\n      </div>\r\n    </Base>\r\n  );\r\n};\r\nexport default Cart;\r\n","import React from \"react\";\r\nimport Home from \"./core/Home\";\r\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\r\nimport Signup from \"./user/Signup\";\r\nimport Signin from \"./user/Signin\";\r\nimport AdminRoute from \"./auth/helper/AdminRoutes\";\r\nimport PrivateRoute from \"./auth/helper/PrivateRoutes\";\r\nimport UserDashboard from \"./user/UserDashBoard\";\r\nimport AdminDashboard from \"./user/AdminDashBoard\";\r\nimport AddCategory from \"./admin/AddCategory\";\r\nimport ManageCategories from \"./admin/ManageCategories\";\r\nimport AddProduct from \"./admin/AddProduct\";\r\nimport ManangeProducts from \"./admin/ManageProducts\";\r\nimport UpdateProduct from \"./admin/UpdateProduct\";\r\nimport UpdateCategory from \"./admin/UpdateCategory\";\r\nimport Cart from \"./core/Cart\";\r\n\r\nconst Routes = () => {\r\n  return (\r\n    <BrowserRouter>\r\n      <Switch>\r\n        <Route path=\"/\" exact component={Home} />\r\n        <Route path=\"/signup\" exact component={Signup} />\r\n        <Route path=\"/signin\" exact component={Signin} />\r\n        <Route path=\"/cart\" exact component={Cart} />\r\n        <PrivateRoute path=\"/user/dashboard\" exact component={UserDashboard} />\r\n        <AdminRoute path=\"/admin/dashboard\" exact component={AdminDashboard} />\r\n        <AdminRoute path=\"/admin/dashboard\" exact component={AdminDashboard} />\r\n        <AdminRoute\r\n          path=\"/admin/create/category\"\r\n          exact\r\n          component={AddCategory}\r\n        />\r\n        <AdminRoute\r\n          path=\"/admin/categories\"\r\n          exact\r\n          component={ManageCategories}\r\n        />\r\n        <AdminRoute path=\"/admin/create/product\" exact component={AddProduct} />\r\n        <AdminRoute path=\"/admin/products\" exact component={ManangeProducts} />\r\n        <AdminRoute\r\n          path=\"/admin/product/update/:productId\"\r\n          exact\r\n          component={UpdateProduct}\r\n        />\r\n        <AdminRoute\r\n          path=\"/admin/category/update/:categoryId\"\r\n          exact\r\n          component={UpdateCategory}\r\n        />\r\n      </Switch>\r\n    </BrowserRouter>\r\n  );\r\n};\r\nexport default Routes;\r\n","import React from \"react\";\r\nimport Routes from \"./Routes\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nReactDOM.render(<Routes />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}